{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - {{ tenant.name }}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Custom Auth CSS -->
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
</head>
<body class="auth-page">
    <div class="auth-container">
        <!-- Left Side - Login Form -->
        <div class="auth-form-section">
            <div class="auth-form-wrapper">
                <!-- Logo/Brand -->
                <div class="auth-logo">
                    <h1>{{ tenant.name }}</h1>
                    <p>Customer Loyalty Platform</p>
                </div>

                <!-- Login Card -->
                <div class="auth-card">
                    <div class="auth-card-header">
                        <h2>Welcome Back</h2>
                        <p>Login to access your account and rewards</p>
                    </div>

                    <div class="auth-card-body">
                        <!-- Messages -->
                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                                    {{ message|safe }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>
                            {% endfor %}
                        {% endif %}

                        <!-- Login Form -->
                        <form method="post" class="auth-form" novalidate>
                            {% csrf_token %}
                            
                            <!-- Email Field -->
                            <div class="form-group">
                                <label for="{{ form.email.id_for_label }}" class="form-label">
                                    Email Address
                                </label>
                                <input 
                                    type="email" 
                                    name="{{ form.email.name }}"
                                    id="{{ form.email.id_for_label }}"
                                    class="form-control {% if form.email.errors %}is-invalid{% endif %}"
                                    placeholder="your.email@example.com"
                                    value="{{ form.email.value|default:'' }}"
                                    required
                                >
                                {% if form.email.errors %}
                                    <div class="invalid-feedback">
                                        {{ form.email.errors.0 }}
                                    </div>
                                {% endif %}
                            </div>

                            <!-- Password Field -->
                            <div class="form-group">
                                <label for="{{ form.password.id_for_label }}" class="form-label">
                                    Password
                                </label>
                                <input 
                                    type="password" 
                                    name="{{ form.password.name }}"
                                    id="{{ form.password.id_for_label }}"
                                    class="form-control {% if form.password.errors %}is-invalid{% endif %}"
                                    placeholder="Enter your password"
                                    required
                                >
                                {% if form.password.errors %}
                                    <div class="invalid-feedback">
                                        {{ form.password.errors.0 }}
                                    </div>
                                {% endif %}
                            </div>

                            <!-- Non-field errors -->
                            {% if form.non_field_errors %}
                                <div class="alert alert-danger">
                                    {{ form.non_field_errors.0 }}
                                </div>
                            {% endif %}

                            <!-- Remember Me & Forgot Password -->
                            <div class="form-options">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="rememberMe">
                                    <label class="form-check-label" for="rememberMe">
                                        Remember me
                                    </label>
                                </div>
                                <a href="{% url 'dashboard:password_reset' %}" class="forgot-link">Forgot password?</a>
                            </div>

                            <!-- Submit Button -->
                            <button type="submit" class="btn-auth btn-auth-primary">
                                Login to Your Account
                            </button>

                            <!-- Divider -->
                            <div class="auth-divider">
                                <span>New to {{ tenant.name }}?</span>
                            </div>

                            <!-- Register Link -->
                            <div class="auth-alternate">
                                Don't have an account?
                                <a href="{% url 'dashboard:register' %}">Create one now</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Side - Hero Section with Image Background -->
        <div class="auth-hero-section">
            <div class="auth-hero-content">
                <!-- Icon/Logo -->
                <div class="hero-logo">
                    <i class="bi bi-award"></i>
                </div>

                <!-- Main Heading -->
                <h1 class="hero-title">Join Our Business Family Today</h1>
                <p class="hero-subtitle">
                    Joining the family will give you the ability to view your transactions from your dashboard, track your loyalty points by yourself, 
                    and you will never miss any of our great deals and promotions. You can also send us a direct communication about any of your business with us.
                </p>

                <!-- Key Features -->
                <ul class="hero-features">
                    <li class="hero-feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Instant communication with us</span>
                    </li>
                    <li class="hero-feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Get exclusive promotions and discounts</span>
                    </li>
                    <li class="hero-feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Track your purchase history anytime</span>
                    </li>
                    <li class="hero-feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Redeem rewards for amazing benefits</span>
                    </li>
                </ul>

                <!-- Social Proof -->
                <div class="hero-stats">
                    <p>
                        <i class="bi bi-people-fill"></i>
                        <strong>Join thousands</strong> of happy customers community
                    </p>
                </div>

                <!-- Contact Info -->
                <div class="hero-footer">
                    <div class="hero-contact">
                        <div class="hero-contact-item">
                            <i class="bi bi-geo-alt-fill"></i>
                            <span>{{ tenant.address|default:"Visit us at our location" }}</span>
                        </div>
                        <div class="hero-contact-item">
                            <i class="bi bi-telephone-fill"></i>
                            <span>{{ tenant.phone|default:"Contact us for support" }}</span>
                        </div>
                        <div class="hero-contact-item">
                            <i class="bi bi-envelope-fill"></i>
                            <span>{{ tenant.email|default:"info@business.com" }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Form validation feedback
        document.querySelector('.auth-form').addEventListener('submit', function(e) {
            const btn = this.querySelector('.btn-auth-primary');
            btn.classList.add('loading');
            btn.disabled = true;
        });

        // Auto-hide alerts after 5 seconds
        setTimeout(function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                const bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            });
        }, 5000);
    </script>
</body>
</html>